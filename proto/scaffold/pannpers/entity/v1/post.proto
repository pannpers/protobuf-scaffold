syntax = "proto3";

package pannpers.entity.v1;

import "buf/validate/validate.proto";
import "pannpers/entity/v1/user.proto";

option go_package = "gen/go/pannpers/entity/v1";

// Post entity
message Post {
  // Post ID is required
  PostId id = 1 [(buf.validate.field).required = true];
  // Post title is required
  PostTitle title = 2 [(buf.validate.field).required = true];
  // The ID of the user who created the post is required
  UserId author_id = 3 [(buf.validate.field).required = true];
}

// Post ID
message PostId {
  // Post ID must be a valid UUID format
  string value = 1 [(buf.validate.field).string.uuid = true];
}

// Post title
message PostTitle {
  // Post title must be between 1 and 200 characters
  string value = 1 [(buf.validate.field).string = {
    min_len: 1
    max_len: 200
  }];
}
