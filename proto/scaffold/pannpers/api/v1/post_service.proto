syntax = "proto3";

package pannpers.api.v1;

import "buf/validate/validate.proto";
import "pannpers/entity/v1/post.proto";
import "pannpers/entity/v1/user.proto";

option go_package = "gen/go/pannpers/api/v1;rpc";

// Post service provides operations for managing posts
service PostService {
  // GetPost retrieves a post by ID
  rpc GetPost(GetPostRequest) returns (GetPostResponse);

  // CreatePost creates a new post
  rpc CreatePost(CreatePostRequest) returns (CreatePostResponse);
}

// GetPostRequest is the request message for GetPost
message GetPostRequest {
  // The unique identifier of the post to retrieve (required)
  entity.v1.PostId post_id = 1 [(buf.validate.field).required = true];
}

// GetPostResponse is the response message for GetPost
message GetPostResponse {
  // The post resource (required)
  entity.v1.Post post = 1 [(buf.validate.field).required = true];
}

// CreatePostRequest is the request message for CreatePost
message CreatePostRequest {
  // The title of the post to create (required and must be valid)
  entity.v1.PostTitle title = 1 [(buf.validate.field).required = true];

  // The ID of the user creating the post (required and must be valid)
  entity.v1.UserId author_id = 2 [(buf.validate.field).required = true];
}

// CreatePostResponse is the response message for CreatePost
message CreatePostResponse {
  // The created post resource (required)
  entity.v1.Post post = 1 [(buf.validate.field).required = true];
}
